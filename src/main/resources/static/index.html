<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
    ="width=device-width, initial-scale=1.0">
    <title>BeeHappy - Gestion Apicole</title>
    <link rel="icon" type="image/svg+xml"
          href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cellipse cx='50' cy='55' rx='28' ry='32' fill='%23FFA500'/%3E%3Cellipse cx='50' cy='45' rx='22' ry='25' fill='%23FFD700'/%3E%3Cpath d='M30 45 Q25 35 30 30 L35 35 Z' fill='%23FFF'/%3E%3Cpath d='M70 45 Q75 35 70 30 L65 35 Z' fill='%23FFF'/%3E%3Ccircle cx='42' cy='45' r='3' fill='%23000'/%3E%3Ccircle cx='58' cy='45' r='3' fill='%23000'/%3E%3Cpath d='M40 55 Q50 62 60 55' stroke='%23000' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3Cpath d='M30 50 L20 45 L30 40 Z' fill='%23E8E8E8' opacity='0.7'/%3E%3Cpath d='M70 50 L80 45 L70 40 Z' fill='%23E8E8E8' opacity='0.7'/%3E%3Cpath d='M35 40 L50 35 L65 40 M35 50 L50 45 L65 50 M35 60 L50 55 L65 60' stroke='%23000' stroke-width='1.5'/%3E%3C/svg%3E">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        honey: {
                            50: '#FFFBEB',
                            100: '#FEF3C7',
                            200: '#FDE68A',
                            300: '#FCD34D',
                            400: '#FBBF24',
                            500: '#F59E0B',
                            600: '#D97706',
                            700: '#B45309',
                            800: '#92400E',
                            900: '#78350F',
                        },
                        bee: {
                            50: '#FFF7ED',
                            100: '#FFEDD5',
                            200: '#FED7AA',
                            300: '#FDBA74',
                            400: '#FB923C',
                            500: '#F97316',
                            600: '#EA580C',
                            700: '#C2410C',
                            800: '#9A3412',
                            900: '#7C2D12',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-honey-50">

<!-- Application principale -->
<div x-data="app()" x-init="loadTemplates()" x-cloak>

    <!-- Page de Login -->
    <div x-show="currentView === 'login'"
         class="min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-honey-100 via-bee-100 to-honey-200">
        <div class="max-w-md w-full bg-white rounded-lg shadow-2xl p-8 border-4 border-honey-400">
            <!-- Logo BeeHappy -->
            <div class="flex justify-center mb-6">
                <img alt="BeeHappy logo" src="images/bee.png" style="max-width:150px">
            </div>

            <h1 class="text-3xl font-bold text-honey-800 mb-2 text-center">BeeHappy</h1>
            <p class="text-honey-600 text-center mb-6">Gestion Apicole</p>

            <form @submit.prevent="handleLogin" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">
                        Nom d'utilisateur
                    </label>
                    <input
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="Entrez votre identifiant"
                            required
                            type="text"
                            x-model="credentials.username">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">
                        Mot de passe
                    </label>
                    <input
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            placeholder="Entrez votre mot de passe"
                            required
                            type="password"
                            x-model="credentials.password">
                </div>

                <div class="text-red-600 text-sm" x-show="error" x-text="error"></div>

                <button
                        :disabled="isLoading"
                        class="w-full bg-gradient-to-r from-honey-500 to-bee-500 text-white py-2 rounded-md hover:from-honey-600 hover:to-bee-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all shadow-md"
                        type="submit">
                    <span x-show="!isLoading">Se connecter</span>
                    <span x-show="isLoading">Connexion...</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Application principale (aprÃ¨s login) -->
    <div x-show="currentView !== 'login'" class="min-h-screen">
        <div x-html="templates.nav"></div>

        <!-- Contenu principal -->
        <main class="max-w-7xl mx-auto px-4 py-8 pb-20">
            <div x-show="currentView === 'dashboard'" x-html="templates.dashboard"></div>
            <div x-show="currentView === 'customers'" x-html="templates.customers"> </div>
            <div x-show="currentView === 'products'" x-html="templates.products"> </div>
            <div x-show="currentView === 'stock'" x-html="templates.stocks"></div>

        </main>

        <div x-html="templates.footer"></div>
    </div>
</div>

<script src="js/honeyApp.js"></script>

<style>
    [x-cloak] { display: none !important; }
</style>

</body>
</html>